# Dlog-zkp
Formalisation of Schnorr Protocol and other proofs (https://www.win.tue.nl/~berry/2WC13/LectureNotes.pdf)

Here is my plan to proceed:

1. I am going to write a concrete implementation of Group and Field 
    and their respective functions (addition, multiplication, division,
    etc), assuming the Schnorr group. (Finished)
2. Then I write a power function that interacts between Group and 
    Field and show that it respects the vector-space axioms. (Finished)
3. Now that we have all the concrete implementation, we can 
   demonstrate that they are efficient. (Finished)
4. Formalise others, e.g., Parallel, EQ, AND, OR sigma protocol (Finished)
5. Formalise some vote counting method where we can use our 
   sigma protocol library to demonstrate usability. 


The end goal is verify all the crypto primitives of [SwissPost](https://gitlab.com/swisspost-evoting/crypto-primitives/crypto-primitives/) in Coq.

Run `dune build` (ignore the warinings) in this directory to compile the project. It will compile the Rocq code and 
generate OCaml code from it (see _CoqProject file). It takes a while (3 hours) because it verifies the primality and generator order in Rocq (see SigmaInsHelios.v file) used in [Helios](https://github.com/benadida/js-voting-crypto/blob/master/test/elgamal-test.js#L14). `dune build  6554.20s user 15.53s system 57% cpu 3:08:53.70 total`  
1. Run `dune exec _build/default/src/Executable/SigmaHelios/main.exe` to run the Helios example. You will output like this:
   ```(base) mukesh.tiwari@Mukeshs-MacBook-Pro-2 SigmaProtocol % dune exec _build/default/src/Executable/SigmaHelios/main.exe
p = 16328632084933010002384055033805457329601614771185955389739167309086214800406465799038583634953752941675645562182498120750264980492381375579367675648771293800310370964745767014243638518442553823973482995267304044326777047662957480269391322789378384619428596446446984694306187644767462460965622580087564339212631775817895958409016676398975671266179637898557687317076177218843233150695157881061257053019133078545928983562221396313169622475509818442661047018436264806901023966236718367204710755935899013750306107738002364137917426595737403871114187750804346564731250609196846638183903982387884578266136503697493474682071, q = 61329566248342901292543872769978950870633559608669337131139375508370458778917, g = 14887492224963187634282421537186040801304008017743492304481737382571933937568724473847106029915040150784031882206090286938661464458896494215273989547889201144857352611058572236578734319505128042602372864570426550855201448111746579871811249114781674309062693442442368697449970648232621880001709535143047913661432883287150003429802392229361583608686643243349727791976247247948618930423866180410558458272606627111270040091203073580238905303994472202930783207472394578498507764703191288249547659899997131166130259700604433891232298182348403175947450284433411265966789131024573629546048637848902243503970966798589660808533, h = 8712008288323819069611104926654842045723778356018808688755872544171633789079557392507192845307035988302951719349750357518969479793296048790766419242280955777101567726561115504822877896350494241763119864586638259866510244447154254643855542445517679072605644287956242816129459190724051385871892116314630571348662816132072056944378867349253890588904328270619665125727970737450057090996395788369855060669545401704125307852911854705899065930168341527640746489256475460926064718511758476372128677599075387923904232187958366871647449427908842504496667424640873836781685306450539101397934464789668056433260066933489061552308
proof = {annoucement = 8250937305858411445418419414396878032705759366580733412418717316408540548410186580359402041013303506392364065487533795738097798877969825511207239345764811553210149666481733458030527853599229993635209024743735395243069704085374061425290461914864189958711558161911117531450542904497233111353398416240857123760898411075609958490105498407892478203188480732248724719838732694886330628367496719351468274540515650389583574220954787268796003331287821060785952381795492149609154613422188750028504419782272766277149191684448378913696319094972728579442606795683941256166478822988828292543799057112502402917453336492440904935681,  challenge = 47086829423716691714953874484036711416306360339192967061529051293538454210669,  response = 45521119508317758087690921677779433730353754802545243112265319347891176313795, }
true%
```